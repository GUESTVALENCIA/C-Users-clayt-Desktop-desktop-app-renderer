<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ejemplo de IntegraciÃ³n - Sandra Studio</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Segoe UI', system-ui; 
      background: #0f0f12; 
      color: #e0e0ff; 
      height: 100vh; 
      display: flex;
      flex-direction: column;
    }
    #canvasContainer { 
      flex: 1;
      position: relative; 
      background: #14141a; 
      overflow: hidden; 
    }
    #mainCanvas { 
      display: block; 
      width: 100%; 
      height: 100%; 
      cursor: crosshair; 
    }
    #chatPanel { 
      background: #1a1a22; 
      border-top: 1px solid #333; 
      padding: 12px; 
    }
    #chatLog { 
      height: 200px; 
      overflow-y: auto; 
      padding: 8px; 
      margin-bottom: 8px; 
      font-size: 14px; 
      line-height: 1.5;
      background: #0d0d0d;
      border-radius: 6px;
    }
    .msg { margin: 6px 0; }
    .msg.you { color: #66ccff; }
    .msg.sandra { color: #ff99cc; }
    .msg.thinking { opacity: 0.7; font-style: italic; }
    #inputBar { 
      display: flex; 
      gap: 8px; 
    }
    #userInput { 
      flex: 1; 
      padding: 10px; 
      border: 1px solid #444; 
      border-radius: 6px; 
      background: #222; 
      color: white; 
    }
    #btns { 
      display: flex; 
      gap: 6px; 
    }
    .btn { 
      width: 40px; 
      height: 40px; 
      border: none; 
      border-radius: 50%; 
      background: #333; 
      color: white; 
      font-weight: bold; 
      cursor: pointer; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      transition: all 0.2s;
    }
    .btn:hover { background: #555; transform: scale(1.05); }
    .btn:active { transform: scale(0.95); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
  </style>
</head>
<body>
  <div id="canvasContainer">
    <canvas id="mainCanvas"></canvas>
  </div>
  <div id="chatPanel">
    <div id="chatLog"></div>
    <div id="inputBar">
      <input type="text" id="userInput" placeholder="Escribe... (Enter)">
      <div id="btns">
        <button id="cameraBtn" class="btn" title="Generar imagen">ðŸ“·</button>
        <button id="videoGenBtn" class="btn" title="Generar video">ðŸŽ¥</button>
        <button id="artefactBtn" class="btn" title="Generar artefacto">ðŸ§©</button>
        <button id="micBtn" class="btn" title="Voz">ðŸŽ¤</button>
        <button id="uploadBtn" class="btn" title="Subir archivo">âž•</button>
        <button id="sendBtn" class="btn" title="Enviar">âž¤</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- SANDRA STUDIO ULTIMATE - COMPONENTES -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

  <!-- 1. Observer inteligente de botones -->
  <script src="./smart-button-observer.js"></script>

  <!-- 2. Sistema de lienzo interactivo -->
  <script src="./canvas-core.js"></script>

  <!-- 3. Chat handler limpio -->
  <script src="./chat-handler.js"></script>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- SIMULACIÃ“N DE IPC (para pruebas sin Electron) -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <script>
    // Simular window.electronAPI para pruebas
    if (!window.electronAPI) {
      window.electronAPI = {
        sendChat: (data) => {
          console.log('[SIM] ðŸ“¤ Chat enviado:', data);
          // Simular respuesta despuÃ©s de 1 segundo
          setTimeout(() => {
            if (window.chatAPI) {
              window.chatAPI.receiveResponse(
                `âœ… Procesado: "${data.text}"\n\nEsta es una respuesta simulada. En producciÃ³n, esto vendrÃ­a de QWEN.`,
                false
              );
            }
          }, 1000);
        },
        sendButtonEvent: (data) => {
          console.log('[SIM] ðŸ”˜ BotÃ³n presionado:', data);
          // Simular respuesta
          setTimeout(() => {
            if (window.chatAPI) {
              const actions = {
                'cameraBtn': 'ðŸ“· Generando imagen...',
                'videoGenBtn': 'ðŸŽ¥ Iniciando pipeline de video...',
                'artefactBtn': 'ðŸ§© Creando artefacto...',
                'micBtn': 'ðŸŽ¤ Procesando voz...',
                'uploadBtn': 'âž• Analizando archivo...',
                'sendBtn': 'âž¤ Enviando mensaje...'
              };
              window.chatAPI.receiveResponse(actions[data.button] || 'âœ… AcciÃ³n procesada', false);
            }
          }, 500);
        },
        sendCanvasUpdate: (data) => {
          console.log('[SIM] ðŸŽ¨ Canvas actualizado:', data);
        }
      };
      console.log('[SIM] âœ… IPC simulado activado (solo para pruebas)');
    }
  </script>
</body>
</html>

